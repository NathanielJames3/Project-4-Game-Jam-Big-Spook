{
	"name": "Level Event sheet",
	"events": [
		{
			"eventType": "variable",
			"name": "Pause",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 141398425180736
		},
		{
			"eventType": "variable",
			"name": "Key1",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 371300629457279
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Main Game",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Default level camera setup, Audio surce: https://soundimage.org/dark-ominous/"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 333401340308328
						}
					],
					"actions": [
						{
							"id": "set-canvas-size",
							"objectClass": "System",
							"sid": 687780619874701,
							"parameters": {
								"width": "200",
								"height": "100"
							}
						},
						{
							"id": "play",
							"objectClass": "Audio",
							"sid": 258529461577501,
							"parameters": {
								"audio-file": "Dark-Things-2_V001",
								"loop": "looping",
								"volume": "0",
								"tag-optional": "\"\""
							}
						}
					],
					"sid": 379283048966273
				},
				{
					"eventType": "comment",
					"text": "Zooming in on player. Lighting for player, lighting for key."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 967364194208246
						}
					],
					"actions": [
						{
							"id": "set-position-to-another-object",
							"objectClass": "ZoomIn",
							"sid": 437728129028162,
							"parameters": {
								"object": "Player",
								"image-point-optional": "0"
							}
						},
						{
							"id": "set-position-to-another-object",
							"objectClass": "PointLight_Player",
							"sid": 915469642079344,
							"parameters": {
								"object": "Player",
								"image-point-optional": "0"
							}
						},
						{
							"id": "set-position-to-another-object",
							"objectClass": "PointLight_Player3",
							"sid": 150630023427004,
							"parameters": {
								"object": "Key",
								"image-point-optional": "0"
							}
						}
					],
					"sid": 588752894113649
				},
				{
					"eventType": "comment",
					"text": "Level restarts when enemy is on contact with player."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Enemy",
							"sid": 911156602943333,
							"parameters": {
								"object": "Player"
							}
						}
					],
					"actions": [
						{
							"id": "restart-layout",
							"objectClass": "System",
							"sid": 990981030046668
						}
					],
					"sid": 879109329730290
				},
				{
					"eventType": "comment",
					"text": "Player can not go through enemy walls."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Player",
							"sid": 644542922436219,
							"parameters": {
								"object": "EnemyPlatform"
							}
						}
					],
					"actions": [
						{
							"id": "set-enabled",
							"objectClass": "EnemyPlatform",
							"sid": 279688455248136,
							"behaviorType": "Solid",
							"parameters": {
								"state": "enabled"
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 505946709909880,
							"parameters": {
								"seconds": "2.0"
							}
						},
						{
							"id": "set-enabled",
							"objectClass": "EnemyPlatform",
							"sid": 405394433940859,
							"behaviorType": "Solid",
							"parameters": {
								"state": "disabled"
							}
						}
					],
					"sid": 558376320304474
				},
				{
					"eventType": "comment",
					"text": "When player collides with EndScreen_Trigger, go to EndScreen."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Player",
							"sid": 298399708282214,
							"parameters": {
								"object": "EndScreen_Trigger"
							}
						}
					],
					"actions": [
						{
							"id": "go-to-layout",
							"objectClass": "System",
							"sid": 476383478741286,
							"parameters": {
								"layout": "End Screen"
							}
						}
					],
					"sid": 914988139926316
				},
				{
					"eventType": "comment",
					"text": "When player collides with Key, destroy Key/key light and enable collions with EndScreen_Trigger."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Player",
							"sid": 198975084061285,
							"parameters": {
								"object": "Key"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Key",
							"sid": 997499361910662
						},
						{
							"id": "set-collisions-enabled",
							"objectClass": "EndScreen_Trigger",
							"sid": 902922868604998,
							"parameters": {
								"collisions": "enabled"
							}
						},
						{
							"id": "destroy",
							"objectClass": "PointLight_Player3",
							"sid": 354265605447559
						}
					],
					"sid": 121590608844508
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Pathfinding",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "Enemy finds path."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-x-seconds",
									"objectClass": "System",
									"sid": 563935094768724,
									"parameters": {
										"interval-seconds": "0.4"
									}
								}
							],
							"actions": [
								{
									"id": "find-path",
									"objectClass": "Enemy",
									"sid": 492636949256139,
									"behaviorType": "Pathfinding",
									"parameters": {
										"x": "Player.X",
										"y": "Player.Y"
									}
								},
								{
									"id": "destroy",
									"objectClass": "Path_Arrow",
									"sid": 646549381118743
								}
							],
							"sid": 476940731576480
						},
						{
							"eventType": "comment",
							"text": "Enemy moving along path."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-path-found",
									"objectClass": "Enemy",
									"sid": 348148614574838,
									"behaviorType": "Pathfinding"
								}
							],
							"actions": [
								{
									"id": "move-along-path",
									"objectClass": "Enemy",
									"sid": 920591810639632,
									"behaviorType": "Pathfinding"
								}
							],
							"sid": 823438296701148,
							"children": [
								{
									"eventType": "comment",
									"text": "Creating Path_Arrow object."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "repeat",
											"objectClass": "System",
											"sid": 266042570082970,
											"parameters": {
												"count": "Enemy.Pathfinding.NodeCount"
											}
										}
									],
									"actions": [
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 721060036168931,
											"parameters": {
												"object-to-create": "Path_Arrow",
												"layer": "1",
												"x": "Enemy.Pathfinding.NodeXAt(loopindex)",
												"y": "Enemy.Pathfinding.NodeYAt(loopindex)"
											}
										},
										{
											"id": "set-size",
											"objectClass": "Path_Arrow",
											"sid": 320646392169897,
											"parameters": {
												"width": "6",
												"height": "6"
											}
										}
									],
									"sid": 583422333485251
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-failed-to-find-path",
									"objectClass": "Enemy",
									"sid": 632714175027032,
									"behaviorType": "Pathfinding"
								}
							],
							"actions": [
								{
									"id": "flash",
									"objectClass": "Enemy",
									"sid": 862949111744560,
									"behaviorType": "Flash",
									"parameters": {
										"on-time": "0.1",
										"off-time": "0.1",
										"duration": "1.0"
									}
								}
							],
							"sid": 812717782634740
						},
						{
							"eventType": "comment",
							"text": "Path_Arrow object destroyed when enemy meets it."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-arrived",
									"objectClass": "Enemy",
									"sid": 231743399442971,
									"behaviorType": "Pathfinding"
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "Path_Arrow",
									"sid": 838791869901331
								}
							],
							"sid": 814152688816999
						}
					],
					"sid": 228148599846507
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Player Zoom",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "variable",
							"name": "CurrentZoom",
							"type": "number",
							"initialValue": "1",
							"comment": "",
							"isStatic": true,
							"isConstant": false,
							"sid": 582183684080192
						},
						{
							"eventType": "variable",
							"name": "Target",
							"type": "number",
							"initialValue": "1",
							"comment": "",
							"isStatic": true,
							"isConstant": false,
							"sid": 797900138397060
						},
						{
							"eventType": "comment",
							"text": "Zooms in when on contact with ZoomIn trigger."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 371546222339648,
									"parameters": {
										"variable": "CurrentZoom",
										"comparison": 2,
										"value": "Target"
									}
								}
							],
							"actions": [],
							"sid": 911145627649907,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "every-x-seconds",
											"objectClass": "System",
											"sid": 406196449921298,
											"parameters": {
												"interval-seconds": "0.01"
											}
										}
									],
									"actions": [
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 536893953219789,
											"parameters": {
												"variable": "CurrentZoom",
												"value": "0.01"
											}
										},
										{
											"id": "set-layout-scale",
											"objectClass": "System",
											"sid": 961692528052770,
											"parameters": {
												"scale": "CurrentZoom"
											}
										}
									],
									"sid": 548815476308440
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Zooms out when out of contact with ZoomIn trigger."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 711340500252991,
									"parameters": {
										"variable": "CurrentZoom",
										"comparison": 4,
										"value": "Target"
									}
								}
							],
							"actions": [],
							"sid": 327554815718170,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "every-x-seconds",
											"objectClass": "System",
											"sid": 263469337439523,
											"parameters": {
												"interval-seconds": "0.01"
											}
										}
									],
									"actions": [
										{
											"id": "subtract-from-eventvar",
											"objectClass": "System",
											"sid": 941414030748280,
											"parameters": {
												"variable": "CurrentZoom",
												"value": "0.01"
											}
										},
										{
											"id": "set-layout-scale",
											"objectClass": "System",
											"sid": 759469568181605,
											"parameters": {
												"scale": "CurrentZoom"
											}
										}
									],
									"sid": 188019431117075
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Enemy activates the zoom in when overlapping."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "Enemy",
									"sid": 516497527173307,
									"parameters": {
										"object": "ZoomIn"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 867185530461656,
									"parameters": {
										"variable": "Target",
										"value": "ZoomIn.TargetZoom"
									}
								}
							],
							"sid": 822559518479360
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 933044395745602
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 590507968440336,
									"parameters": {
										"variable": "Target",
										"value": "1"
									}
								}
							],
							"sid": 351363892551359
						}
					],
					"sid": 203934600972691
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Key Spawning",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "Way 1: Random key spawns."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-tick",
									"objectClass": "System",
									"sid": 727279402565089
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 238909440856309,
									"parameters": {
										"variable": "Key1",
										"value": "Key.Count"
									}
								}
							],
							"sid": 611172255715482
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-random-instance",
									"objectClass": "System",
									"sid": 937754414416629,
									"parameters": {
										"object": "Key"
									}
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 372450526792841,
									"parameters": {
										"variable": "Key1",
										"comparison": 4,
										"value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "Key",
									"sid": 604980381792974
								}
							],
							"sid": 815933495524062
						},
						{
							"eventType": "comment",
							"text": "Way 2: Random key spawns."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-start-of-layout",
									"objectClass": "System",
									"sid": 543026109941163
								},
								{
									"id": "pick-random-instance",
									"objectClass": "System",
									"sid": 521281732168141,
									"parameters": {
										"object": "KeySpawn_Object"
									}
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "KeySpawn_Object",
									"sid": 927389873254313,
									"parameters": {
										"object": "Key",
										"layer": "1",
										"image-point": "0"
									}
								}
							],
							"sid": 362966002401601,
							"disabled": true
						}
					],
					"sid": 868872817436032
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "One-way Passages",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "Trigger for one-way passage."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "Player",
									"sid": 553128461720002,
									"parameters": {
										"object": "Oneway_Trigger"
									}
								}
							],
							"actions": [
								{
									"id": "set-visible",
									"objectClass": "Oneway_Platforms",
									"sid": 897795345284237,
									"parameters": {
										"visibility": "invisible"
									}
								},
								{
									"id": "set-enabled",
									"objectClass": "Oneway_Platforms",
									"sid": 208244015629332,
									"behaviorType": "Solid",
									"parameters": {
										"state": "disabled"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 257877736625042,
									"parameters": {
										"seconds": "2.0"
									}
								},
								{
									"id": "set-visible",
									"objectClass": "Oneway_Platforms",
									"sid": 167304730774855,
									"parameters": {
										"visibility": "visible"
									}
								},
								{
									"id": "set-enabled",
									"objectClass": "Oneway_Platforms",
									"sid": 979668280124648,
									"behaviorType": "Solid",
									"parameters": {
										"state": "enabled"
									}
								}
							],
							"sid": 899098247696872
						},
						{
							"eventType": "comment",
							"text": "Trigger for one-way passage2."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "Player",
									"sid": 420619060895582,
									"parameters": {
										"object": "Oneway_Trigger2"
									}
								}
							],
							"actions": [
								{
									"id": "set-visible",
									"objectClass": "Oneway_Platforms2",
									"sid": 270540990055476,
									"parameters": {
										"visibility": "invisible"
									}
								},
								{
									"id": "set-enabled",
									"objectClass": "Oneway_Platforms2",
									"sid": 117514995786226,
									"behaviorType": "Solid",
									"parameters": {
										"state": "disabled"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 383174783282398,
									"parameters": {
										"seconds": "6.0"
									}
								},
								{
									"id": "set-visible",
									"objectClass": "Oneway_Platforms2",
									"sid": 663733090748301,
									"parameters": {
										"visibility": "visible"
									}
								},
								{
									"id": "set-enabled",
									"objectClass": "Oneway_Platforms2",
									"sid": 973859936809526,
									"behaviorType": "Solid",
									"parameters": {
										"state": "enabled"
									}
								}
							],
							"sid": 254505455446572
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "Player",
									"sid": 117396432498359,
									"parameters": {
										"object": "Oneway_Trigger3"
									}
								}
							],
							"actions": [
								{
									"id": "set-visible",
									"objectClass": "Oneway_Platforms3",
									"sid": 483270296744276,
									"parameters": {
										"visibility": "invisible"
									}
								},
								{
									"id": "set-enabled",
									"objectClass": "Oneway_Platforms3",
									"sid": 563169552522168,
									"behaviorType": "Solid",
									"parameters": {
										"state": "disabled"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 182195369463891,
									"parameters": {
										"seconds": "4.0"
									}
								},
								{
									"id": "set-visible",
									"objectClass": "Oneway_Platforms3",
									"sid": 784465943753728,
									"parameters": {
										"visibility": "visible"
									}
								},
								{
									"id": "set-enabled",
									"objectClass": "Oneway_Platforms3",
									"sid": 845264889406138,
									"behaviorType": "Solid",
									"parameters": {
										"state": "enabled"
									}
								}
							],
							"sid": 657062760359836
						}
					],
					"sid": 477188269803167
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Programming Shortcut Keys",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "Resart layout."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-key-pressed",
									"objectClass": "Keyboard",
									"sid": 519768917163453,
									"parameters": {
										"key": 82
									}
								}
							],
							"actions": [
								{
									"id": "restart-layout",
									"objectClass": "System",
									"sid": 438495169287696
								}
							],
							"sid": 781069637715749
						},
						{
							"eventType": "comment",
							"text": "Escape game."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-key-pressed",
									"objectClass": "Keyboard",
									"sid": 815852806466244,
									"parameters": {
										"key": 27
									}
								}
							],
							"actions": [
								{
									"id": "close",
									"objectClass": "Browser",
									"sid": 907311037674605
								}
							],
							"sid": 236641161745545
						},
						{
							"eventType": "comment",
							"text": "Pause game."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-key-pressed",
									"objectClass": "Keyboard",
									"sid": 880155561895875,
									"parameters": {
										"key": 80
									}
								}
							],
							"actions": [
								{
									"id": "toggle-boolean-eventvar",
									"objectClass": "System",
									"sid": 815271195284306,
									"parameters": {
										"variable": "Pause"
									}
								}
							],
							"sid": 258802931143501
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 786064836524540,
									"parameters": {
										"variable": "Pause"
									}
								}
							],
							"actions": [
								{
									"id": "set-time-scale",
									"objectClass": "System",
									"sid": 247441317810958,
									"parameters": {
										"time-scale": "0"
									}
								}
							],
							"sid": 308109107365370
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 267132647561334,
									"parameters": {
										"variable": "Pause"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-time-scale",
									"objectClass": "System",
									"sid": 675881409927643,
									"parameters": {
										"time-scale": "1"
									}
								}
							],
							"sid": 984904989031721
						}
					],
					"sid": 449088108528500
				}
			],
			"sid": 412683925447573
		}
	],
	"sid": 586479334890723
}